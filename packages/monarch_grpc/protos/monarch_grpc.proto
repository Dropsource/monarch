syntax = "proto3";

package monarch_grpc;

service MonarchCli {
    rpc PreviewVmServerUriChanged(UriInfo) returns (Empty) {}
    rpc ControllerGrpcServerStarted(ServerInfo) returns (Empty) {}
    rpc LaunchDevTools(Empty) returns (Empty) {}
}

service MonarchController {
    rpc HotReload(Empty) returns (ReloadResponse) {}
    rpc RestartPreview(Empty) returns (Empty) {}
}

message Empty {}

message UriInfo {
    string host = 1;
    int32 port = 2;
    string path = 3;
    string scheme = 4;
}

message ServerInfo {
    int32 port = 1;
}

message ReloadResponse {
    bool isSuccessful = 1;
}